# SubwayForest
## 1 项目概述
### 1.1项目背景
随着城市的发展和人口的增加，地铁成为现代城市交通体系中不可或缺的一部分。

### 1.2 项目意义
（1）通过大数据分析技术，可以实时监测和分析地铁客流量的变化趋势，帮助地铁运营方了解当前的乘客流量情况，做出相应的调度和资源优化决策。

（2）通过对地铁客流量数据的分析，可以为乘客提供实时的客流情况和预测信息，帮助他们做出更好的出行决策。

（3）通过分析数据的规律和趋势，预测未来某个时间段内的客流量水平，为地铁运营方提供更好的资源配置和服务安排。

（4）可以根据实时客流量变化及预测，可以让周围实体经济在合适时间获得很好的获利效率。

### 1.3 项目内容
通过相关网站中各个地铁路线的客流量公开数据集，训练模型，实现各个线路营业数据可视化呈现，线路的实时营销占比，模拟预测未来一小时及十二小时的客流量数据。

## 2 数据/算法部分
### 2.1 数据集获取
本项目从和鲸社区网站

https://www.heywhale.com/mw/dataset/5f75927e2b83e00030b3e26e/file

下载了一百万条深圳地铁闸口刷卡的开源数据。

### 2.2 数据预处理
由于数据集比较规范，我们仅需对数据集去除空值，去除异常值（nan值）的操作，经过处理后数据删减掉至953,344条，地铁站点数量由255个缩减至178个。

### 2.3 特征选择
本项目目的是针对每个站点不同时间的客流量进行预测。因此我们选择将日day，时hour，分min作为特征，针对每个站点的所有刷卡数据进行模型训练和预测。因此我们首先提取需要的特征信息，此处进行日期信息的提取操作：数据集标签我们定为在该时刻某地铁站地铁刷卡的次数（deal_value）

### 2.4 模型构建思路
我们将表格数据以地铁站点名来分组，共划分有178组数据集，我们分别用这178组数据集针对于每个地铁站点训练出178个模型，每个模型适用于单个的地铁站点，对每个地铁站点分别进行预测任务。

### 2.5 算法模型选择
在模型训练过程中，我们总共对比了三个模型的训练结果，分别是线性回归模型，随机森林模型以及Xgboost算法，经过训练测试，我们得到以下数据：

模型	预测稳定准确率

Linear	0.292503

XGBoost 超参：n_estimators=100, max_depth=10	0.776911

RandomForest 超参：n_estimators=100, max_depth=10	0.781031

因此，RandomForest模型应当作为我们的首选模型，他的预测准确率在三者之中是最高的。
